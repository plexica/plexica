{
  "$schema": "https://opencode.ai/config.json",
  // FORGE - Framework for Orchestrated Requirements, Governance & Engineering
  // Project configuration template

  // Default model for all agents unless overridden
  "model": "github-copilot/claude-sonnet-4.6",

  // Provider configuration with thinking budgets
  "provider": {
    "github-copilot": {
      "models": {
        "claude-opus-4.6": {
          "options": {
            "thinking": { "budgetTokens": 16000 }
          }
        },
        "claude-sonnet-4.6": {
          "options": {
            "thinking": { "budgetTokens": 8000 }
          }
        }
      }
    }
  },

  // Agent model overrides - Opus for deep reasoning, Sonnet for speed
  "agent": {
    "forge-pm": {
      "model": "github-copilot/claude-opus-4.6"
    },
    "forge-architect": {
      "model": "github-copilot/claude-opus-4.6"
    },
    "forge-reviewer": {
      "model": "github-copilot/claude-opus-4.6"
    }
  },

  // Global tool permissions
  "permission": {
    "bash": {
      // Git operations
      "git *": "allow",
      
      // NPM/Node operations
      "npm *": "allow",
      "npx *": "allow",
      "node *": "allow",
      "yarn *": "allow",
      
      // Safe read operations
      "ls *": "allow",
      "pwd": "allow",
      "cat *": "allow",
      "head *": "allow",
      "tail *": "allow",
      "grep *": "allow",
      "find *": "allow",
      "wc *": "allow",
      "tree *": "allow",
      
      // Build and test operations
      "make *": "allow",
      
      // Directory and file operations
      "mkdir *": "allow",
      "touch *": "allow",
      "cp *": "allow",
      "mv *": "allow",
      "rm -f *": "allow",
      
      // Echo and output
      "echo *": "allow",
      
      // Everything else asks
      "*": "ask"
    },
    
    // File operation tool permissions
    "edit": "allow",
    "write": "allow",
    "read": "allow",
    "glob": "allow",
    "grep": "allow"
  },

  // Constitution and knowledge base always loaded as context
  "instructions": [
    ".forge/constitution.md",
    ".forge/knowledge/decision-log.md"
  ],

  // MCP server integrations
  "mcp": {
    "github": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-github"],
      "environment": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "{env:GITHUB_TOKEN}"
      }
    }
  }
}
